# BEpusdt è™šæ‹Ÿè´§å¸æ”¯ä»˜é›†æˆæŒ‡å—

> æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•åœ¨ Dujiao-Next ç³»ç»Ÿä¸­é›†æˆ BEpusdt è™šæ‹Ÿè´§å¸ï¼ˆUSDTï¼‰æ”¯ä»˜ç½‘å…³ã€‚

---

## ğŸ“‹ ç›®å½•

1. [æ¦‚è¿°](#1-æ¦‚è¿°)
2. [æ¶æ„è¯´æ˜](#2-æ¶æ„è¯´æ˜)
3. [éƒ¨ç½² BEpusdt](#3-éƒ¨ç½²-bepusdt)
4. [åˆå§‹åŒ– BEpusdt](#4-åˆå§‹åŒ–-bepusdt)
5. [é…ç½® Dujiao-Next æ”¯ä»˜é€šé“](#5-é…ç½®-dujiao-next-æ”¯ä»˜é€šé“)
6. [æµ‹è¯•æ”¯ä»˜æµç¨‹](#6-æµ‹è¯•æ”¯ä»˜æµç¨‹)
7. [å¸¸è§é—®é¢˜](#7-å¸¸è§é—®é¢˜)

---

## 1. æ¦‚è¿°

[BEpusdt](https://github.com/v03413/BEpusdt)ï¼ˆBetter Easy Payment USDTï¼‰æ˜¯ä¸€æ¬¾ä¸ªäººåŠ å¯†è´§å¸æ”¶æ¬¾ç½‘å…³ï¼Œæ”¯æŒå¤šåŒºå—é“¾ USDT æ”¶æ¬¾ï¼ˆTRON/TRC20ã€ETH/ERC20ã€BSC/BEP20 ç­‰ï¼‰ã€‚

**æ ¸å¿ƒç‰¹æ€§ï¼š**

- âœ… å…¼å®¹æ‰€æœ‰ Epusdt æ’ä»¶ï¼Œå¯ä½¿ç”¨æ˜“æ”¯ä»˜ï¼ˆepayï¼‰åè®®å¯¹æ¥
- âœ… æ”¯æŒåŠ¨æ€æ±‡ç‡ï¼ˆå®æ—¶ CNYâ†’USDT æ¢ç®—ï¼‰
- âœ… æ”¯æŒ Docker ä¸€é”®éƒ¨ç½²
- âœ… å†…ç½®è®¢å•ç®¡ç†åå°
- âœ… æ”¯æŒå¤šåŒºå—é“¾ç½‘ç»œ

**ä¸ Dujiao-Next çš„é›†æˆæ–¹å¼ï¼š** BEpusdt é€šè¿‡ **æ˜“æ”¯ä»˜ï¼ˆepayï¼‰åè®®** ä¸ Dujiao-Next åç«¯é€šä¿¡ã€‚åœ¨ Dujiao-Next ç®¡ç†åå°åˆ›å»ºä¸€ä¸ª `epay` ç±»å‹çš„æ”¯ä»˜é€šé“ï¼Œå°†ç½‘å…³åœ°å€æŒ‡å‘ BEpusdt å³å¯ã€‚

---

## 2. æ¶æ„è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·å‰ç«¯    â”‚â”€â”€â†’â”‚  Dujiao-Next API  â”‚â”€â”€â†’â”‚   BEpusdt   â”‚
â”‚ (user-main) â”‚    â”‚    (åç«¯æœåŠ¡)      â”‚    â”‚ (æ”¯ä»˜ç½‘å…³)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â†‘                       â”‚
                       å›è°ƒé€šçŸ¥                   æ‰«å—ç¡®è®¤
                           â”‚                       â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                   â”‚  Dujiao-Next  â”‚         â”‚  åŒºå—é“¾    â”‚
                   â”‚    æ•°æ®åº“      â”‚         â”‚  ç½‘ç»œ      â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æµç¨‹è¯´æ˜ï¼š**

1. ç”¨æˆ·åœ¨å‰ç«¯é€‰æ‹© USDT æ”¯ä»˜æ–¹å¼
2. Dujiao-Next åç«¯é€šè¿‡ epay åè®®å‘ BEpusdt åˆ›å»ºè®¢å•
3. BEpusdt è¿”å› USDT æ”¶æ¬¾åœ°å€å’Œé‡‘é¢
4. ç”¨æˆ·ä½¿ç”¨é’±åŒ…è½¬è´¦åˆ°æŒ‡å®šåœ°å€
5. BEpusdt é€šè¿‡åŒºå—é“¾æ‰«å—ç¡®è®¤åˆ°è´¦
6. BEpusdt é€šè¿‡å›è°ƒé€šçŸ¥ Dujiao-Next æ”¯ä»˜æˆåŠŸ
7. Dujiao-Next æ›´æ–°è®¢å•çŠ¶æ€å¹¶å®Œæˆäº¤ä»˜

---

## 3. éƒ¨ç½² BEpusdt

### æ–¹å¼ä¸€ï¼šä½¿ç”¨é›†æˆçš„ Docker Composeï¼ˆæ¨èï¼‰

BEpusdt å·²ç»é›†æˆåˆ° Dujiao-Next çš„ `docker-compose.yml` ä¸­ã€‚æ‰§è¡Œéƒ¨ç½²æ—¶ä¼šè‡ªåŠ¨å¯åŠ¨ï¼š

```bash
cd deploy
docker compose up -d
```

BEpusdt æœåŠ¡é…ç½®ï¼š

- **å¤–éƒ¨ç«¯å£**ï¼š`9990`ï¼ˆå®¿ä¸»æœºè®¿é—®ç®¡ç†åå°ï¼‰
- **å†…éƒ¨åœ°å€**ï¼š`http://bepusdt:8080`ï¼ˆDocker å†…éƒ¨ç½‘ç»œï¼Œç”¨äºé…ç½®æ”¯ä»˜é€šé“ï¼‰
- **æ•°æ®æŒä¹…åŒ–**ï¼š`bepusdt_data` å·æŒ‚è½½åˆ° `/var/lib/bepusdt`

### æ–¹å¼äºŒï¼šç‹¬ç«‹éƒ¨ç½²

å¦‚æœä½ çš„ BEpusdt éƒ¨ç½²åœ¨å…¶ä»–æœåŠ¡å™¨ä¸Šï¼š

```bash
docker run -d \
  --restart=unless-stopped \
  -p 8080:8080 \
  -v /opt/bepusdt:/var/lib/bepusdt \
  v03413/bepusdt:latest
```

---

## 4. åˆå§‹åŒ– BEpusdt

### 4.1 è®¿é—®ç®¡ç†åå°

éƒ¨ç½²å®Œæˆåï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—® BEpusdt ç®¡ç†åå°ï¼š

```
http://ä½ çš„æœåŠ¡å™¨IP:9990/
```

> âš ï¸ é¦–æ¬¡è®¿é—®ä¼šæ˜¾ç¤ºå®‰è£…å‘å¯¼ï¼Œè¯·æŒ‰æç¤ºå®Œæˆåˆå§‹åŒ–ã€‚

### 4.2 å®Œæˆåˆå§‹åŒ–è®¾ç½®

æŒ‰ç…§å®‰è£…å‘å¯¼å®Œæˆä»¥ä¸‹è®¾ç½®ï¼š

1. **è®¾ç½®ç®¡ç†å‘˜è´¦å·å’Œå¯†ç ** â€” å¦¥å–„ä¿å­˜
2. **é…ç½® USDT é’±åŒ…åœ°å€** â€” æ·»åŠ ä½ çš„ TRON (TRC20) æ”¶æ¬¾åœ°å€
3. **è®¾ç½® API Token** â€” è¿™ä¸ª Token å°†ä½œä¸º Dujiao-Next è¿æ¥ BEpusdt çš„å¯†é’¥

### 4.3 è·å–å…³é”®é…ç½®ä¿¡æ¯

åˆå§‹åŒ–å®Œæˆåï¼Œåœ¨ BEpusdt åå°è®°å½•ä»¥ä¸‹ä¿¡æ¯ï¼š

| é…ç½®é¡¹        | è¯´æ˜                           | ç¤ºä¾‹                                                                |
| ------------- | ------------------------------ | ------------------------------------------------------------------- |
| **API åœ°å€**  | BEpusdt çš„è®¿é—®åœ°å€             | `http://bepusdt:8080`ï¼ˆDocker å†…éƒ¨ï¼‰æˆ– `http://ä½ çš„IP:9990`ï¼ˆå¤–éƒ¨ï¼‰ |
| **å•†æˆ· ID**   | å›ºå®šå€¼                         | `1000`ï¼ˆBEpusdt é»˜è®¤ï¼‰                                              |
| **API Token** | åœ¨ BEpusdt åå°è®¾ç½®çš„ API å¯†é’¥ | `your-api-token`                                                    |

### 4.4 é…ç½® TronGrid API Keyï¼ˆå¼ºçƒˆæ¨èï¼‰

ä¸ºæå‡ TRON ç½‘ç»œæ‰«å—ç¨³å®šæ€§ï¼Œå»ºè®®åœ¨ BEpusdt åå°é…ç½® [TronGrid](https://www.trongrid.io/) API Keyï¼š

1. è®¿é—® https://www.trongrid.io/ æ³¨å†Œè´¦å·
2. åˆ›å»ºä¸€ä¸ª API Key
3. åœ¨ BEpusdt åå° â†’ ç³»ç»Ÿè®¾ç½® â†’ å¡«å…¥ TronGrid API Key

---

## 5. é…ç½® Dujiao-Next æ”¯ä»˜é€šé“

### 5.1 ç™»å½•ç®¡ç†åå°

è®¿é—® Dujiao-Next ç®¡ç†åå°ï¼š

```
http://ä½ çš„æœåŠ¡å™¨IP:9091
```

### 5.2 åˆ›å»ºæ”¯ä»˜é€šé“

1. è¿›å…¥ **æ”¯ä»˜æ¸ é“** èœå•
2. ç‚¹å‡» **æ–°å¢æ¸ é“**
3. æŒ‰ä»¥ä¸‹é…ç½®å¡«å†™ï¼š

| é…ç½®é¡¹         | å€¼                 | è¯´æ˜                 |
| -------------- | ------------------ | -------------------- |
| **æ¸ é“åç§°**   | `USDTæ”¯ä»˜`         | è‡ªå®šä¹‰åç§°ï¼Œç”¨æˆ·å¯è§ |
| **æ¸ é“ç±»å‹**   | `æ˜“æ”¯ä»˜`           | é€‰æ‹© epay ç±»å‹       |
| **æ”¯ä»˜æ–¹å¼**   | `USDT`             | é€‰æ‹© USDT            |
| **äº¤äº’æ–¹å¼**   | `äºŒç»´ç ` æˆ– `è·³è½¬` | æ¨èäºŒç»´ç            |
| **æ‰‹ç»­è´¹æ¯”ä¾‹** | `0`                | BEpusdt ä¸æ”¶æ‰‹ç»­è´¹   |
| **æ’åºæƒé‡**   | `10`               | æ§åˆ¶æ˜¾ç¤ºé¡ºåº         |
| **å¯ç”¨**       | âœ…                 | å‹¾é€‰å¯ç”¨             |

### 5.3 å¡«å†™æ˜“æ”¯ä»˜é…ç½®

åœ¨ **æ˜“æ”¯ä»˜é…ç½®** åŒºåŸŸå¡«å†™ï¼š

| é…ç½®é¡¹       | å€¼                                                          | è¯´æ˜                                      |
| ------------ | ----------------------------------------------------------- | ----------------------------------------- |
| **ç‰ˆæœ¬**     | `v1`                                                        | BEpusdt ä½¿ç”¨ v1 åè®®                      |
| **æ”¯ä»˜ç½‘å…³** | `http://bepusdt:8080/`                                      | Docker å†…éƒ¨åœ°å€ï¼ˆå¦‚ç‹¬ç«‹éƒ¨ç½²åˆ™å¡«å¤–éƒ¨åœ°å€ï¼‰ |
| **å•†æˆ· ID**  | `1000`                                                      | BEpusdt é»˜è®¤å•†æˆ· ID                       |
| **å•†æˆ·å¯†é’¥** | `ä½ çš„API Token`                                             | åœ¨ BEpusdt åå°è®¾ç½®çš„ API Token           |
| **é€šçŸ¥åœ°å€** | `http://dujiao-api:9090/api/v1/payments/epay/callback`      | å›è°ƒé€šçŸ¥åœ°å€ï¼ˆDocker å†…éƒ¨ï¼‰               |
| **åŒæ­¥åœ°å€** | `http://ä½ çš„åŸŸå/payment?epay_return=1&order_no={order_id}` | ç”¨æˆ·æ”¯ä»˜å®Œæˆåçš„è·³è½¬åœ°å€                  |

> âš ï¸ **å…³äºé€šçŸ¥åœ°å€ï¼ˆnotify_urlï¼‰ï¼š**
>
> - å¦‚æœ BEpusdt ä¸ Dujiao-Next åœ¨åŒä¸€ä¸ª Docker ç½‘ç»œä¸­ï¼Œä½¿ç”¨å†…éƒ¨åœ°å€ï¼š`http://dujiao-api:9090/api/v1/payments/epay/callback`
> - å¦‚æœ BEpusdt éƒ¨ç½²åœ¨ä¸åŒæœåŠ¡å™¨ï¼Œä½¿ç”¨å¤–éƒ¨å¯è®¿é—®çš„åœ°å€ï¼š`https://ä½ çš„åŸŸå/api/v1/payments/epay/callback`

### 5.4 ä¿å­˜å¹¶æµ‹è¯•

ç‚¹å‡» **ä¿å­˜** å®Œæˆæ”¯ä»˜é€šé“åˆ›å»ºã€‚

---

## 6. æµ‹è¯•æ”¯ä»˜æµç¨‹

### 6.1 å‰ç«¯éªŒè¯

1. è®¿é—®ç”¨æˆ·å‰ç«¯ (`http://ä½ çš„æœåŠ¡å™¨IP:9092`)
2. é€‰æ‹©ä¸€ä¸ªå•†å“ï¼Œæ·»åŠ åˆ°è´­ç‰©è½¦
3. è¿›å…¥ç»“ç®—é¡µé¢ï¼Œæäº¤è®¢å•
4. åœ¨æ”¯ä»˜é¡µé¢åº”èƒ½çœ‹åˆ° **USDT** æ”¯ä»˜æ–¹å¼
5. é€‰æ‹© USDT æ”¯ä»˜ï¼Œç³»ç»Ÿå°†ç”Ÿæˆï¼š
   - **USDT æ”¶æ¬¾åœ°å€**ï¼ˆäºŒç»´ç æ¨¡å¼ä¸‹æ˜¾ç¤ºäºŒç»´ç ï¼‰
   - **USDT é‡‘é¢**ï¼ˆæ ¹æ®å®æ—¶æ±‡ç‡æ¢ç®—ï¼‰
   - **è¿‡æœŸæ—¶é—´**

### 6.2 æ”¯ä»˜ç¡®è®¤

1. ä½¿ç”¨ USDT é’±åŒ…ï¼ˆå¦‚ TronLinkã€Trust Wallet ç­‰ï¼‰æ‰«æäºŒç»´ç æˆ–å¤åˆ¶åœ°å€
2. æŒ‰æ˜¾ç¤ºçš„ç²¾ç¡®é‡‘é¢è¿›è¡Œè½¬è´¦
3. ç­‰å¾…åŒºå—é“¾ç¡®è®¤ï¼ˆé€šå¸¸ 1-5 åˆ†é’Ÿï¼‰
4. BEpusdt æ£€æµ‹åˆ°åˆ°è´¦åï¼Œè‡ªåŠ¨å›è°ƒ Dujiao-Next
5. è®¢å•çŠ¶æ€æ›´æ–°ä¸º **å·²æ”¯ä»˜**

### 6.3 BEpusdt ç®¡ç†åå°ç›‘æ§

åœ¨ BEpusdt ç®¡ç†åå°å¯ä»¥ï¼š

- æŸ¥çœ‹æ‰€æœ‰ USDT è®¢å•åŠå…¶çŠ¶æ€
- æŸ¥çœ‹åŒºå—é“¾äº¤æ˜“è¯¦æƒ…
- ç›‘æ§é’±åŒ…ä½™é¢
- æŸ¥çœ‹å›è°ƒé€šçŸ¥è®°å½•

---

## 7. å¸¸è§é—®é¢˜

### Q1: æ”¯ä»˜é€šé“æ— æ³•è¿æ¥ BEpusdtï¼Ÿ

**æ£€æŸ¥æ­¥éª¤ï¼š**

1. ç¡®è®¤ BEpusdt å®¹å™¨æ­£åœ¨è¿è¡Œï¼š`docker ps | grep bepusdt`
2. æ£€æŸ¥å®¹å™¨æ—¥å¿—ï¼š`docker logs dujiao-bepusdt`
3. ç¡®è®¤ç½‘ç»œè¿é€šï¼š`docker exec dujiao-api wget -qO- http://bepusdt:8080/ && echo OK`
4. å¦‚æœç‹¬ç«‹éƒ¨ç½²ï¼Œç¡®è®¤é˜²ç«å¢™å…è®¸è®¿é—® 8080/8088 ç«¯å£

### Q2: æ”¯ä»˜å›è°ƒæœªæ”¶åˆ°ï¼Ÿ

**æ£€æŸ¥æ­¥éª¤ï¼š**

1. ç¡®è®¤ notify_url é…ç½®æ­£ç¡®ï¼ˆæ³¨æ„ Docker å†…éƒ¨ vs å¤–éƒ¨åœ°å€ï¼‰
2. æŸ¥çœ‹ BEpusdt æ—¥å¿—ä¸­çš„å›è°ƒè®°å½•
3. ç¡®è®¤ Dujiao-Next API æœåŠ¡æ­£å¸¸è¿è¡Œ
4. BEpusdt è¦æ±‚å›è°ƒè¿”å› HTTP 200 + `ok` æ‰è®¤ä¸ºæˆåŠŸ

### Q3: USDT é‡‘é¢è®¡ç®—ä¸æ­£ç¡®ï¼Ÿ

BEpusdt ä½¿ç”¨å®æ—¶æ±‡ç‡æ¢ç®—ã€‚å¦‚æœåç«¯è®¢å•é‡‘é¢ä¸º CNYï¼ŒBEpusdt ä¼šè‡ªåŠ¨æŒ‰å®æ—¶æ±‡ç‡è½¬æ¢ä¸º USDT é‡‘é¢å¹¶æ·»åŠ å°æ•°ä½åŒºåˆ†ï¼ˆé˜²æ­¢ä¸åŒè®¢å•é‡‘é¢ç›¸åŒï¼‰ã€‚

### Q4: å¦‚ä½•æ”¯æŒå¤šæ¡åŒºå—é“¾ï¼Ÿ

åœ¨ BEpusdt åå°å¯ä»¥åŒæ—¶æ·»åŠ å¤šæ¡åŒºå—é“¾çš„é’±åŒ…åœ°å€ï¼ˆTRON/ETH/BSC ç­‰ï¼‰ï¼ŒBEpusdt ä¼šè‡ªåŠ¨åˆ›å»ºå¯¹åº”é“¾çš„æ”¶æ¬¾è®¢å•ã€‚

### Q5: å¦‚ä½•é‡ç½® BEpusdt ç®¡ç†å‘˜å¯†ç ï¼Ÿ

```bash
docker exec -it dujiao-bepusdt bepusdt reset
```

---

## é™„å½•ï¼šBEpusdt API ç­¾åç®—æ³•

BEpusdt ä½¿ç”¨ MD5 ç­¾åéªŒè¯ã€‚ç­¾åæµç¨‹ï¼š

1. å°†æ‰€æœ‰è¯·æ±‚å‚æ•°æŒ‰ ASCII ç æ’åº
2. æ‹¼æ¥ä¸º `key=value&key=value` æ ¼å¼ï¼ˆæ’é™¤ç©ºå€¼å’Œ `signature` å­—æ®µï¼‰
3. æœ«å°¾è¿½åŠ  `&token=ä½ çš„APIå¯†é’¥`
4. å¯¹æ‹¼æ¥å­—ç¬¦ä¸²è¿›è¡Œ MD5 å“ˆå¸Œ
5. å°†å“ˆå¸Œå€¼è½¬ä¸ºå°å†™ï¼Œå³ä¸ºç­¾å

> Dujiao-Next åç«¯çš„ epay æ¨¡å—å·²å†…ç½®è¯¥ç­¾åé€»è¾‘ï¼Œæ— éœ€æ‰‹åŠ¨å¤„ç†ã€‚

---

## ç›¸å…³é“¾æ¥

- [BEpusdt GitHub](https://github.com/v03413/BEpusdt)
- [BEpusdt API æ–‡æ¡£](https://github.com/v03413/BEpusdt/blob/main/docs/api/api.md)
- [BEpusdt Docker éƒ¨ç½²æŒ‡å—](https://github.com/v03413/BEpusdt/blob/main/docs/docker/docker.md)
- [BEpusdt å›è°ƒé€šçŸ¥è¯´æ˜](https://github.com/v03413/BEpusdt/blob/main/docs/notify/readme.md)
